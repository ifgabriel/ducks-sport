{
  "_beagleComponent_": "custom:container",
  "context": {
    "id": "productsFilter",
    "value": ""
  },
  "children": [
    {
      "_beagleComponent_": "custom:input",
      "label": "Pesquise algo",
      "value": "@{productsFilter}",
      "onChange": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "productsFilter",
          "value": "@{onChange.value}"
        }
      ]
    },
    {
      "_beagleComponent_": "custom:grid",
      "url": "/products",
      "params": "@{productsFilter}",
      "children": [
        {
          "case": "view",
          "_beagleComponent_": "custom:card",
          "onPress": [
            {
              "_beagleAction_": "beagle:setContext",
              "contextId": "global",
              "path": "product",
              "value": "@{onPress.id}"
            },
            {
              "_beagleAction_": "beagle:pushView",
              "route": {
                "url": "/product-detail.json",
                "shouldPrefetch": false
              }
            }
          ]
        },
        {
          "case": "loading",
          "length": 10,
          "_beagleComponent_": "beagle:text",
          "text": "loading"
        },
        {
          "case": "empty",
          "_beagleComponent_": "beagle:text",
          "text": "empty"
        }
      ]
    }
  ]
}
